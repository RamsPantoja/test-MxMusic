{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rams\\\\Documents\\\\Web\\\\Spotify\\\\cliente\\\\src\\\\components\\\\Player\\\\audiocomponent.js\";\nimport React, { Fragment } from 'react';\nimport PlayerControls from './buttons_player/playercontrols';\n\nclass ComponentAudio extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playStatus: 'true',\n      currentTime: 0,\n      percent: 0\n    };\n    this.toggleplay = this.toggleplay.bind(this);\n    this.updateTime = this.updateTime.bind(this);\n    this.modifyProgressBar = this.modifyProgressBar.bind(this);\n    this.updateBar = this.updateBar.bind(this);\n  }\n\n  updateTime(timeStamp) {\n    let currentTime = Math.floor(timeStamp);\n    this.setState({\n      currentTime: currentTime\n    });\n  }\n\n  modifyProgressBar(e) {\n    let audioP = Math.floor(e); //console.log(audioP);\n\n    let audio = document.getElementById('audio');\n\n    if (!audio.paused && !audio.ended) {\n      let newTime = audioP * audio.duration / 100;\n      audio.currentTime = newTime;\n    }\n  }\n\n  updateBar(percent) {\n    this.setState({\n      percent: percent\n    });\n  }\n\n  toggleplay() {\n    let status = this.state.playStatus;\n    let audio = document.getElementById('audio');\n    console.log(audio.currentTime);\n\n    if (status === 'play') {\n      status = 'pause';\n      audio.play();\n    } else {\n      status = 'play';\n      audio.pause();\n    }\n\n    setInterval(() => {\n      let currentTime = audio.currentTime;\n      let duration = audio.duration;\n      let percent = currentTime / duration * 100;\n      console.log(currentTime);\n      this.updateTime(currentTime);\n      this.updateBar(percent);\n    }, 1000);\n    this.setState({\n      playStatus: status\n    });\n  }\n\n  render() {\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"audio\", {\n      id: \"audio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"source\", {\n      src: this.props.source,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), React.createElement(PlayerControls, {\n      percent: this.state.percent,\n      onClick: this.toggleplay,\n      currentTime: this.state.currentTime,\n      onChangeMusic: this.modifyProgressBar,\n      duration: this.props.duracion,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ComponentAudio;","map":{"version":3,"sources":["C:\\Users\\Rams\\Documents\\Web\\Spotify\\cliente\\src\\components\\Player\\audiocomponent.js"],"names":["React","Fragment","PlayerControls","ComponentAudio","Component","constructor","props","state","playStatus","currentTime","percent","toggleplay","bind","updateTime","modifyProgressBar","updateBar","timeStamp","Math","floor","setState","e","audioP","audio","document","getElementById","paused","ended","newTime","duration","status","console","log","play","pause","setInterval","render","source","duracion"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react';\r\nimport PlayerControls from './buttons_player/playercontrols';\r\n\r\nclass ComponentAudio extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            playStatus: 'true',\r\n            currentTime: 0,\r\n            percent: 0\r\n        }\r\n\r\n        this.toggleplay = this.toggleplay.bind(this);\r\n        this.updateTime = this.updateTime.bind(this);\r\n        this.modifyProgressBar = this.modifyProgressBar.bind(this);\r\n        this.updateBar = this.updateBar.bind(this);\r\n    }\r\n\r\n    updateTime (timeStamp) {\r\n        let currentTime = Math.floor(timeStamp)\r\n        this.setState({\r\n            currentTime: currentTime\r\n        })\r\n    }\r\n\r\n    modifyProgressBar(e){\r\n        let audioP = Math.floor(e);\r\n        //console.log(audioP);\r\n        let audio = document.getElementById('audio');\r\n        if(!audio.paused && !audio.ended){\r\n            let newTime = (audioP*audio.duration) / 100;\r\n            audio.currentTime = newTime;\r\n        }\r\n     \r\n    }\r\n\r\n    updateBar(percent){\r\n        this.setState({\r\n            percent: percent\r\n        })\r\n    }\r\n    \r\n    toggleplay () {\r\n        let status = this.state.playStatus;\r\n        let audio = document.getElementById('audio');\r\n        console.log(audio.currentTime);\r\n        if ( status === 'play') {\r\n            status = 'pause';\r\n            audio.play();\r\n        } else {\r\n            status = 'play';\r\n            audio.pause();\r\n        }\r\n\r\n\r\n        setInterval( () => {\r\n            let currentTime = audio.currentTime;\r\n            let duration = audio.duration;\r\n            let percent = (currentTime / duration) * 100;\r\n            console.log(currentTime);\r\n            this.updateTime(currentTime);\r\n            this.updateBar(percent);\r\n        }, 1000);\r\n\r\n        this.setState({\r\n            playStatus: status\r\n        })\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <Fragment>\r\n                <audio id='audio'><source src={this.props.source}/></audio>\r\n                <PlayerControls percent={this.state.percent} onClick={this.toggleplay} currentTime={this.state.currentTime} onChangeMusic={this.modifyProgressBar} duration={this.props.duracion}/>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default ComponentAudio;"]},"metadata":{},"sourceType":"module"}